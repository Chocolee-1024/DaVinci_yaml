openapi: 3.0.0
info:
  title: Amadeus Flight Offers Search API
  description: "This plugin retrieves flight offers between two cities using the Amadeus API."
  version: 1.0.0
  contact:
    name: Amadeus API Support
    url: https://developers.amadeus.com
    email: support@amadeus.com

servers:
  - url: https://test.api.amadeus.com

paths:
  /v2/shopping/flight-offers:
    get:
      summary: 查詢航班班次
      description: |
        使用 Amadeus API 查詢從出發城市到目的地城市的航班。需要提供出發地、目的地和出發日期。
      parameters:
        - name: originLocationCode
          in: query
          required: true
          description: "出發城市機場代碼（例如：TPE）"
          schema:
            type: string
        - name: destinationLocationCode
          in: query
          required: true
          description: "目的地城市機場代碼（例如：NRT）"
          schema:
            type: string
        - name: departureDate
          in: query
          required: true
          description: "出發日期，格式為 YYYY-MM-DD"
          schema:
            type: string
        - name: adults
          in: query
          required: true
          description: "乘客人數"
          schema:
            type: integer
      responses:
        '200':
          description: "成功返回航班信息"
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        id:
                          type: string
                        source:
                          type: string
                        itineraries:
                          type: array
                          items:
                            type: object
                            properties:
                              segments:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    departure:
                                      type: object
                                      properties:
                                        iataCode:
                                          type: string
                                          description: "出發機場的IATA代碼"
                                        at:
                                          type: string
                                          description: "出發時間"
                                    arrival:
                                      type: object
                                      properties:
                                        iataCode:
                                          type: string
                                          description: "到達機場的IATA代碼"
                                        at:
                                          type: string
                                          description: "到達時間"
        '400':
          description: "無效的參數"
        '401':
          description: "授權失敗，可能是訪問令牌無效或已過期"

components:
  securitySchemes:
    oauth2:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: https://test.api.amadeus.com/v1/security/oauth2/token
          scopes: {}

security:
  - oauth2: []
