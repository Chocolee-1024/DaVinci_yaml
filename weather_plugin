openapi: 3.0.0
info:
  title: Amadeus OAuth 2.0 Token API
  description: "This plugin retrieves OAuth 2.0 access tokens from Amadeus API using the client credentials grant type."
  version: 1.0.0
  contact:
    name: Amadeus API Support
    url: https://developers.amadeus.com
    email: support@amadeus.com

servers:
  - url: https://test.api.amadeus.com

paths:
  /v1/security/oauth2/token:
    post:
      summary: Retrieve OAuth 2.0 Token
      description: |
        Retrieve an OAuth 2.0 token using the client credentials grant type. 
        This token can be used to authenticate further requests to the Amadeus API.
      requestBody:
        required: true
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                client_id:
                  type: string
                  description: "Your Amadeus API client ID."
                client_secret:
                  type: string
                  description: "Your Amadeus API client secret."
                grant_type:
                  type: string
                  enum: [client_credentials]
                  description: "The OAuth 2.0 grant type."
              required:
                - client_id
                - client_secret
                - grant_type
              example:
                client_id: YOUR_CLIENT_ID
                client_secret: YOUR_CLIENT_SECRET
                grant_type: client_credentials
      responses:
        '200':
          description: "Successful token retrieval"
          content:
            application/json:
              schema:
                type: object
                properties:
                  token_type:
                    type: string
                    description: "The type of the token, typically 'Bearer'."
                  access_token:
                    type: string
                    description: "The OAuth 2.0 access token."
                  expires_in:
                    type: integer
                    description: "The token's expiry time in seconds."
        '400':
          description: "Invalid request parameters."
        '401':
          description: "Unauthorized, invalid client ID or secret."

components:
  securitySchemes:
    oauth2:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: https://test.api.amadeus.com/v1/security/oauth2/token
          scopes: {}

security:
  - oauth2: []
