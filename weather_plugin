# 插件的基本資訊
openapi: 3.0.0
info:
  title: TDX Flight Query Plugin
  description: 查詢台灣航班班次，提供即時航班資訊。
  version: 1.0.0
  contact:
    name: Developer
    email: your-email@example.com

# 授權方式，這裡使用 API Key
components:
  securitySchemes:
    apiKeyAuth:
      type: apiKey
      in: header
      name: authorization

# 授權相關的安全需求
security:
  - apiKeyAuth: []

# 定義 API 路徑和方法
paths:
  /flights:
    get:
      summary: 查詢航班班次
      operationId: getFlights
      parameters:
        - name: $filter
          in: query
          description: 查詢條件，例如特定機場或航空公司
          required: false
          schema:
            type: string
        - name: $top
          in: query
          description: 返回的結果數量
          required: false
          schema:
            type: integer
        - name: $skip
          in: query
          description: 跳過的記錄數
          required: false
          schema:
            type: integer
      responses:
        '200':
          description: 成功返回航班資料
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        flightNumber:
                          type: string
                        departureTime:
                          type: string
                        arrivalTime:
                          type: string
                        airline:
                          type: string
                        status:
                          type: string
        '401':
          description: 未授權
        '500':
          description: 伺服器錯誤

# 伺服器端點（TDX API 的 URL）
servers:
  - url: https://tdx.transportdata.tw/api/basic/v2/Air/FIDS/Airport
